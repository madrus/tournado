#!/usr/bin/env bash
set -euo pipefail

# Add Homebrew to PATH if it exists
[ -d "/opt/homebrew/bin" ] && export PATH="/opt/homebrew/bin:$PATH"
[ -d "/usr/local/bin" ] && export PATH="/usr/local/bin:$PATH"

# Run Biome check with auto-fix on staged files
# Use --no-errors-on-unmatched to allow YAML and other unsupported files
pnpm biome check --staged --write --unsafe --no-errors-on-unmatched .

# Run eslint-only (we run formatting separately for staged files above
# to avoid running the global formatter twice).
pnpm eslint
pnpm typecheck
