@import './colors.css';
@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));

/* Safelist ring and ring-offset classes for button hover/focus effects */
@source inline("{focus-visible:,hover:,}ring-2");
@source inline("{focus-visible:,hover:,}ring-offset-2");
@source inline("{focus-visible:,hover:,}ring-offset-white");
@source inline("{focus-visible:,hover:,}ring-emerald-600");
@source inline("{focus-visible:,hover:,}ring-red-600");
@source inline("border-chip-border");
@source inline("{focus-visible:,hover:,}ring-chip-ring");
@source inline("{focus-visible:,hover:,}ring-offset-chip-ring-offset");
@source inline("{focus-visible:,hover:,}ring-offset-white");
@source inline("dark:border-slate-100");
@source inline("dark:hover:ring-brand-600 dark:focus:ring-brand-600");
@source inline("dark:hover:ring-offset-slate-100 dark:focus:ring-offset-slate-100");
@source inline("{focus-visible:,hover:,}ring-teal-600");
@source inline("{focus-visible:,hover:,}ring-cyan-600");
@source inline("{focus-visible:,hover:,}ring-yellow-600");
@source inline("{focus-visible:,hover:,}ring-green-600");
@source inline("{focus-visible:,hover:,}ring-violet-600");
@source inline("{focus-visible:,hover:,}ring-gray-600");

/* Safelist shadow classes for button effects */
@source inline("shadow-md");
@source inline("hover:shadow-lg");

/* Safelist UserMenu colors using standard Tailwind classes */
@source inline("border-red-400 divide-red-400 bg-red-400 h-px");
@source inline("dark:border-emerald-400 dark:divide-emerald-400 dark:bg-emerald-400");

/* Safelist UserMenu colors for dark mode */
@source inline("bg-usermenu-bg text-usermenu-text hover:bg-usermenu-hover-bg");
@source inline("dark:bg-usermenu-bg dark:text-usermenu-text dark:hover:bg-usermenu-hover-bg");
@source inline("dark:!bg-primary-900 dark:!text-gray-100 dark:!border-primary-600 dark:hover:!bg-primary-800 dark:!ring-primary-600 dark:hover:!bg-primary-800/70");
@source inline("bg-border border-border");

/* Safelist gradient classes for actually used colors */
@source inline("bg-gradient-to-br");
/* Light mode gradients - complete safelist */
@source inline("from-gray-50 via-gray-100 to-gray-50");
@source inline("from-emerald-50 via-emerald-100 to-emerald-50");
@source inline("from-red-50 via-red-100 to-red-50");
@source inline("from-teal-50 via-teal-100 to-teal-50");
@source inline("from-cyan-50 via-cyan-100 to-cyan-50");
@source inline("from-yellow-50 via-yellow-100 to-yellow-50");
@source inline("from-green-50 via-green-100 to-green-50");
@source inline("from-violet-50 via-violet-100 to-violet-50");
/* Individual gradient pieces for light mode */
@source inline("from-teal-50 via-teal-100 to-teal-50 from-teal-100 teal-50 teal-100");
/* Dark mode gradients */
@source inline("dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-900");
@source inline("dark:from-red-950 dark:via-red-900 dark:to-red-900");
@source inline("dark:from-teal-950 dark:via-teal-900 dark:to-teal-900");
@source inline("dark:from-cyan-950 dark:via-cyan-900 dark:to-cyan-900");
@source inline("dark:from-yellow-950 dark:via-yellow-900 dark:to-yellow-900");
@source inline("dark:from-green-950 dark:via-green-900 dark:to-green-900");
@source inline("dark:from-violet-950 dark:via-violet-900 dark:to-violet-900");
@source inline("dark:from-gray-950 dark:via-gray-900 dark:to-gray-900");

/* Semantic panel gradient classes */
@source inline("from-panel-gradient-from via-panel-gradient-via to-panel-gradient-to");
@source inline("from-brand-from via-brand-via to-brand-to");

/* Semantic panel background classes */
@source inline("bg-panel-bg-primary bg-panel-bg-brand bg-panel-bg-emerald bg-panel-bg-teal bg-panel-bg-cyan bg-panel-bg-blue bg-panel-bg-green bg-panel-bg-yellow bg-panel-bg-violet bg-panel-bg-gray");

/* Safelist border classes for actually used colors */
/* Light mode borders (400) and dark mode borders (400) - solid colors, 1px thickness */
@source inline("border-emerald-400 dark:border-emerald-400 hover:border-emerald-400 hover:dark:border-emerald-400");
@source inline("border-red-400 dark:border-red-400 hover:border-red-400 hover:dark:border-red-400");
@source inline("border-teal-400 dark:border-teal-400 hover:border-teal-400 hover:dark:border-teal-400");
@source inline("border-cyan-400 dark:border-cyan-400 hover:border-cyan-400 hover:dark:border-cyan-400");
@source inline("border-yellow-400 dark:border-yellow-400 hover:border-yellow-400 hover:dark:border-yellow-400");
@source inline("border-green-400 dark:border-green-400 hover:border-green-400 hover:dark:border-green-400");
@source inline("border-violet-400 dark:border-violet-400 hover:border-violet-400 hover:dark:border-violet-400");
@source inline("border-gray-400 dark:border-gray-400 hover:border-gray-400 hover:dark:border-gray-400");

/* Safelist glow, text, and other panel classes for actually used colors */
@source inline("bg-emerald-400/30 text-emerald-300 text-emerald-100/80 border-emerald-400/60 border-emerald-400/70 bg-emerald-400/10");
@source inline("bg-red-400/30 text-red-300 text-red-100/80 border-red-400/60 border-red-400/70 bg-red-400/10");
@source inline("bg-teal-400/30 text-teal-300 text-teal-100/80 border-teal-400/60 border-teal-400/70 bg-teal-400/10");
@source inline("bg-cyan-400/30 text-cyan-300 text-cyan-100/80 border-cyan-400/60 border-cyan-400/70 bg-cyan-400/10");
@source inline("bg-yellow-400/30 text-yellow-300 text-yellow-100/80 border-yellow-400/60 border-yellow-400/70 bg-yellow-400/10");
@source inline("bg-green-400/30 text-green-300 text-green-100/80 border-green-400/60 border-green-400/70 bg-green-400/10");
@source inline("bg-violet-400/30 text-violet-300 text-violet-100/80 border-violet-400/60 border-violet-400/70 bg-violet-400/10");
@source inline("bg-gray-400/30 text-gray-300 text-gray-100/80 border-gray-400/60 border-gray-400/70 bg-gray-400/10");

/* Dark mode text colors for panels */
@source inline("dark:text-emerald-100/80 dark:text-red-100/80 dark:text-teal-100/80 dark:text-cyan-100/80");
@source inline("dark:text-yellow-100/80 dark:text-green-100/80 dark:text-violet-100/80 dark:text-gray-100/80");
@source inline("dark:text-white dark:text-emerald-300 dark:text-red-300 dark:text-teal-300 dark:text-cyan-300");
@source inline("dark:text-yellow-300 dark:text-green-300 dark:text-violet-300 dark:text-gray-300");
@source inline("dark:text-red-200 text-gray-700 text-red-900");
/* Semantic colors for panel titles and descriptions */
@source inline("text-title text-foreground text-foreground-heading text-brand-dark text-brand-darker text-brand-darkest dark:text-white");
/* Light mode darker text colors for better contrast */
@source inline("text-emerald-950 text-red-950 text-teal-950 text-cyan-950 text-yellow-950 text-green-950 text-violet-950 text-gray-950");
@source inline("text-emerald-900 text-red-900 text-teal-900 text-cyan-900 text-yellow-900 text-green-900 text-violet-900 text-gray-900");
@source inline("text-emerald-700 text-red-700 text-teal-700 text-cyan-700 text-yellow-700 text-green-700 text-violet-700 text-gray-700");
/* Icon border colors for light mode */
@source inline("border-emerald-700 border-red-700 border-teal-700 border-cyan-700 border-yellow-700 border-green-700 border-violet-700 border-gray-700");
@source inline("dark:border-emerald-300 dark:border-red-300 dark:border-teal-300 dark:border-cyan-300 dark:border-yellow-300 dark:border-green-300 dark:border-violet-300 dark:border-gray-300");
/* Children text colors - brand (red) - only last child */
@source inline("[&>*:last-child_p]:text-red-600 [&>*:last-child_strong]:text-red-600");
/* Children text colors - other colors - only last child */
@source inline("[&>*:last-child_p]:text-emerald-700 [&>*:last-child_p]:dark:text-emerald-300 [&>*:last-child_strong]:text-emerald-700 [&>*:last-child_strong]:dark:text-emerald-300");
@source inline("[&>*:last-child_p]:text-teal-700 [&>*:last-child_p]:dark:text-teal-300 [&>*:last-child_strong]:text-teal-700 [&>*:last-child_strong]:dark:text-teal-300");
@source inline("[&>*:last-child_p]:text-cyan-700 [&>*:last-child_p]:dark:text-cyan-300 [&>*:last-child_strong]:text-cyan-700 [&>*:last-child_strong]:dark:text-cyan-300");
@source inline("[&>*:last-child_p]:text-yellow-700 [&>*:last-child_p]:dark:text-yellow-300 [&>*:last-child_strong]:text-yellow-700 [&>*:last-child_strong]:dark:text-yellow-300");
@source inline("[&>*:last-child_p]:text-green-700 [&>*:last-child_p]:dark:text-green-300 [&>*:last-child_strong]:text-green-700 [&>*:last-child_strong]:dark:text-green-300");
@source inline("[&>*:last-child_p]:text-violet-700 [&>*:last-child_p]:dark:text-violet-300 [&>*:last-child_strong]:text-violet-700 [&>*:last-child_strong]:dark:text-violet-300");
@source inline("[&>*:last-child_p]:text-gray-700 [&>*:last-child_p]:dark:text-gray-300 [&>*:last-child_strong]:text-gray-700 [&>*:last-child_strong]:dark:text-gray-300");

/* Panel background colors for light/dark mode */
@source inline("bg-emerald-100 bg-red-100 bg-teal-100 bg-cyan-100 bg-yellow-100 bg-green-100 bg-violet-100 bg-gray-100");
@source inline("dark:bg-emerald-800 dark:bg-red-800 dark:bg-teal-800 dark:bg-cyan-800 dark:bg-yellow-800 dark:bg-green-800 dark:bg-violet-800 dark:bg-gray-800");

/* Tailwind v4 Theme Configuration */
@theme {
  --color-background: var(--color-background);
  --color-foreground: var(--color-foreground);

  /* Text Colors */
  --color-title: var(--color-title);
  --color-foreground-heading: var(--color-foreground-heading);
  --color-foreground-light: var(--color-foreground-light);
  --color-foreground-lighter: var(--color-foreground-lighter);
  --color-foreground-darker: var(--color-foreground-darker);

  /* Brand Colors */
  --color-brand: var(--color-brand);
  --color-brand-accent: var(--color-brand-accent);
  --color-brand-dark: var(--color-brand-dark);
  --color-brand-darker: var(--color-brand-darker);
  --color-brand-darkest: var(--color-brand-darkest);
  --color-brand-light: var(--color-brand-light);

  /* Main Accent */
  --color-main: var(--color-main);
  --color-accent: var(--color-accent);

  /* Primary Colors */
  --color-primary-50: var(--color-primary-50);
  --color-primary-100: var(--color-primary-100);
  --color-primary-200: var(--color-primary-200);
  --color-primary-300: var(--color-primary-300);
  --color-primary-400: var(--color-primary-400);
  --color-primary-500: var(--color-primary-500);
  --color-primary-600: var(--color-primary-600);
  --color-primary-700: var(--color-primary-700);
  --color-primary-800: var(--color-primary-800);
  --color-primary-900: var(--color-primary-900);
  --color-primary-950: var(--color-primary-950);

  /* Brand Colors */
  --color-brand-50: var(--color-brand-50);
  --color-brand-100: var(--color-brand-100);
  --color-brand-200: var(--color-brand-200);
  --color-brand-300: var(--color-brand-300);
  --color-brand-400: var(--color-brand-400);
  --color-brand-500: var(--color-brand-500);
  --color-brand-600: var(--color-brand-600);
  --color-brand-700: var(--color-brand-700);
  --color-brand-800: var(--color-brand-800);
  --color-brand-900: var(--color-brand-900);
  --color-brand-950: var(--color-brand-950);

  /* Text Colors */
  --color-title: var(--color-title);
  --color-title-accent: var(--color-title-accent);
  --color-foreground-heading: var(--color-foreground-heading);
  --color-foreground-light: var(--color-foreground-light);
  --color-foreground-lighter: var(--color-foreground-lighter);

  /* Chip Colors */
  --color-chip-border: var(--color-chip-border);
  --color-chip-ring: var(--color-chip-ring);
  --color-chip-ring-offset: var(--color-chip-ring-offset);

  /* Button Colors */
  --color-button-primary-background: var(--color-button-primary-background);
  --color-button-primary-text: var(--color-button-primary-text);
  --color-button-primary-hover-background: var(--color-button-primary-hover-background);

  --color-button-secondary-background: var(--color-button-secondary-background);
  --color-button-secondary-text: var(--color-button-secondary-text);
  --color-button-secondary-border: var(--color-button-secondary-border);
  --color-button-secondary-hover-background: var(--color-button-secondary-hover-background);

  --color-button-tertiary-background: var(--color-button-tertiary-background);
  --color-button-tertiary-text: var(--color-button-tertiary-text);
  --color-button-tertiary-border: var(--color-button-tertiary-border);
  --color-button-tertiary-hover-background: var(--color-button-tertiary-hover-background);
  --color-button-tertiary-hover-border: var(--color-button-tertiary-hover-border);

  /* Danger Button Colors */
  --color-button-danger-background: var(--color-button-danger-background);
  --color-button-danger-text: var(--color-button-danger-text);
  --color-button-danger-hover-background: var(--color-button-danger-hover-background);

  --color-button-danger-secondary-background: var(--color-button-danger-secondary-background);
  --color-button-danger-secondary-text: var(--color-button-danger-secondary-text);
  --color-button-danger-secondary-border: var(--color-button-danger-secondary-border);
  --color-button-danger-secondary-hover-background: var(--color-button-danger-secondary-hover-background);

  --color-button-danger-tertiary-background: var(--color-button-danger-tertiary-background);
  --color-button-danger-tertiary-text: var(--color-button-danger-tertiary-text);
  --color-button-danger-tertiary-border: var(--color-button-danger-tertiary-border);
  --color-button-danger-tertiary-hover-background: var(--color-button-danger-tertiary-hover-background);
  --color-button-danger-tertiary-hover-border: var(--color-button-danger-tertiary-hover-border);

  /* Brand Button Colors */
  --color-button-brand-background: var(--color-button-brand-background);
  --color-button-brand-text: var(--color-button-brand-text);
  --color-button-brand-hover-background: var(--color-button-brand-hover-background);

  --color-button-brand-secondary-background: var(--color-button-brand-secondary-background);
  --color-button-brand-secondary-text: var(--color-button-brand-secondary-text);
  --color-button-brand-secondary-border: var(--color-button-brand-secondary-border);
  --color-button-brand-secondary-hover-background: var(--color-button-brand-secondary-hover-background);

  --color-button-brand-tertiary-background: var(--color-button-brand-tertiary-background);
  --color-button-brand-tertiary-text: var(--color-button-brand-tertiary-text);
  --color-button-brand-tertiary-border: var(--color-button-brand-tertiary-border);
  --color-button-brand-tertiary-hover-background: var(--color-button-brand-tertiary-hover-background);
  --color-button-brand-tertiary-hover-border: var(--color-button-brand-tertiary-hover-border);

  /* Neutral Button Colors */
  --color-button-neutral-background: var(--color-button-neutral-background);
  --color-button-neutral-text: var(--color-button-neutral-text);
  --color-button-neutral-hover-background: var(--color-button-neutral-hover-background);

  --color-button-neutral-secondary-background: var(--color-button-neutral-secondary-background);
  --color-button-neutral-secondary-text: var(--color-button-neutral-secondary-text);
  --color-button-neutral-secondary-border: var(--color-button-neutral-secondary-border);
  --color-button-neutral-secondary-hover-background: var(--color-button-neutral-secondary-hover-background);

  --color-button-neutral-tertiary-background: var(--color-button-neutral-tertiary-background);
  --color-button-neutral-tertiary-text: var(--color-button-neutral-tertiary-text);
  --color-button-neutral-tertiary-border: var(--color-button-neutral-tertiary-border);
  --color-button-neutral-tertiary-hover-background: var(--color-button-neutral-tertiary-hover-background);
  --color-button-neutral-tertiary-hover-border: var(--color-button-neutral-tertiary-hover-border);

  /* Focus Ring Colors */
  --color-button-danger-outline-focus-ring-inner: var(--color-button-danger-outline-focus-ring-inner);
  --color-button-danger-outline-focus-ring-outer: var(--color-button-danger-outline-focus-ring-outer);
  --color-button-outline-border-red: var(--color-button-outline-border-red);

  /* Gradients */
  --gradient-from: var(--gradient-from);
  --gradient-to: var(--gradient-to);

  /* Footer Colors */
  --color-footer: var(--footer-bg);
  --color-footer-foreground: var(--footer-text);

  /* Input Colors - using emerald system from existing variables */
  --color-input: var(--color-background);
  --color-input-foreground: var(--color-foreground);
  --color-input-border: var(--color-button-primary-background); /* emerald-700 */
  --color-input-hover: var(--color-emerald-medium); /* emerald-500 */
  --color-input-focus: var(--color-button-primary-background); /* emerald-700 */
  --color-input-ring: var(--color-button-primary-background); /* emerald-700 */

  /* Error Colors */
  --color-error: var(--color-brand);
  --color-error-foreground: var(--color-brand-dark);

  /* Primary Colors - using emerald system */
  --color-primary: var(--color-button-primary-background);
  --color-primary-foreground: var(--color-button-primary-text);
  --color-primary-hover: var(--color-main);

  /* Hover Colors */
  --color-background-hover: var(--color-background-hover);

  /* Border Colors */
  --color-border: var(--color-border);

  /* UserMenu Colors */
  --color-usermenu-bg: var(--color-usermenu-bg);
  --color-usermenu-text: var(--color-usermenu-text);
  --color-usermenu-hover-bg: var(--color-usermenu-hover-bg);

  /* Panel Gradient Colors */
  --color-panel-gradient-from: var(--panel-gradient-from);
  --color-panel-gradient-via: var(--panel-gradient-via);
  --color-panel-gradient-to: var(--panel-gradient-to);
  --color-brand-from: var(--brand-from);
  --color-brand-via: var(--brand-via);
  --color-brand-to: var(--brand-to);

  /* Panel Background Colors */
  --color-panel-bg-primary: var(--panel-bg-primary);
  --color-panel-bg-brand: var(--panel-bg-brand);
  --color-panel-bg-emerald: var(--panel-bg-emerald);
  --color-panel-bg-teal: var(--panel-bg-teal);
  --color-panel-bg-cyan: var(--panel-bg-cyan);
  --color-panel-bg-blue: var(--panel-bg-blue);
  --color-panel-bg-green: var(--panel-bg-green);
  --color-panel-bg-yellow: var(--panel-bg-yellow);
  --color-panel-bg-violet: var(--panel-bg-violet);
  --color-panel-bg-gray: var(--panel-bg-gray);
}

/* Base Styles */
@layer base {
  /* Ensure headings use the title color */
  h1, h2, h3, h4, h5, h6 {
    color: var(--color-title);
  }

  /* Dark mode heading colors - exclude AppBar */
  .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
    color: var(--color-title-accent);
  }

  .dark .text-foreground-heading {
    color: var(--color-title);
  }

  .dark .text-foreground-light {
    color: var(--color-foreground-light);
  }

  /* Make all paragraph text use foreground color in dark mode for accessibility */
  .dark p:not(.text-foreground-heading) {
    color: var(--color-foreground);
  }

  /* Footer styles handled by component classes */

  /* Mobile navigation uses CSS custom properties */

}

@layer components {
  /* UserMenu light mode - force red colors */
  .light [data-testid="user-menu-dropdown"] {
    border-color: #ef4444 !important; /* red-500 */
  }

  .light [data-testid="user-menu-dropdown"] .bg-red-500 {
    background-color: #ef4444 !important; /* red-500 */
  }

  /* UserMenu dark mode specific styling */
  .dark [data-testid="user-menu-dropdown"] {
    background-color: var(--color-usermenu-bg) !important;
    border-color: #10b981 !important; /* emerald-500 */
  }

  .dark [data-testid="user-menu-dropdown"] .bg-emerald-500 {
    background-color: #10b981 !important; /* emerald-500 */
  }

  /* Language submenu styling - light mode */
  .light [data-testid="user-menu-dropdown"] .bg-background {
    background-color: #ffffff !important; /* white background */
    border-color: #ef4444 !important; /* red-500 border */
  }

  .light [data-testid="user-menu-dropdown"] .bg-accent {
    background-color: #d1fae5 !important; /* emerald-100 for selected language */
  }

  .light [data-testid="user-menu-dropdown"] .hover\:bg-accent:hover {
    background-color: #ecfdf5 !important; /* emerald-50 for hover */
  }

  /* Language submenu styling - dark mode */
  .dark [data-testid="user-menu-dropdown"] .bg-accent {
    background-color: #047857 !important; /* emerald-700 for selected language */
  }

  /* All text elements in UserMenu dropdown - dark mode only */
  .dark [data-testid="user-menu-dropdown"] .text-foreground-darker,
  .dark [data-testid="user-menu-dropdown"] .text-main {
    color: var(--color-usermenu-text) !important;
  }

  /* All hover states in UserMenu dropdown - background only, no borders */
  .dark [data-testid="user-menu-dropdown"] .hover\:bg-accent:hover,
  .dark [data-testid="user-menu-dropdown"] .hover\:bg-background-hover:hover,
  .dark [data-testid="user-menu-dropdown"] .hover\:bg-accent\/50:hover {
    background-color: var(--color-usermenu-hover-bg) !important;
    border-color: transparent !important;
  }

  /* Ensure no borders on hover elements */
  .dark [data-testid="user-menu-dropdown"] button:hover,
  .dark [data-testid="user-menu-dropdown"] a:hover {
    border-color: transparent !important;
    outline: none !important;
  }


  .dark [data-testid="user-menu-dropdown"] .bg-border {
    background-color: var(--color-border) !important;
  }

  /* UserMenu submenu (language menu) dark mode styling */
  .dark [data-testid="user-menu-dropdown"] .bg-background {
    background-color: var(--color-usermenu-bg) !important;
  }
}

/* Chip utility classes */
.border-chip-border {
  border-color: var(--color-chip-border);
}
.ring-chip-ring {
  --tw-ring-color: var(--color-chip-ring);
}
.ring-offset-chip-ring-offset {
  --tw-ring-offset-color: var(--color-chip-ring-offset);
}

/* Semantic color utility classes for homepage and general use */
.text-accent {
  color: var(--color-accent);
}
.dark .text-accent {
  color: var(--color-accent); /* Same as light for now */
}

.text-brand-accent {
  color: var(--color-brand-accent); /* Uses theme-aware brand color */
}
.dark .text-brand-accent {
  color: var(--color-brand-accent); /* Uses theme-aware brand color */
}

.text-brand {
  color: var(--color-brand);
}
.dark .text-brand {
  color: var(--color-brand); /* Uses theme-aware brand color */
}

.text-error {
  color: var(--color-brand);
}
.dark .text-error {
  color: var(--color-brand); /* Same as light for now */
}

.bg-accent {
  background-color: var(--color-accent);
}
.dark .bg-accent {
  background-color: var(--color-accent); /* Same as light for now */
}

.bg-brand-accent {
  background-color: var(--color-brand-accent);
}
.dark .bg-brand-accent {
  background-color: var(--color-brand-accent);
}

/* Custom brand/primary CSS classes removed - now using standard Tailwind red/emerald classes */

.bg-error {
  background-color: var(--color-brand);
}

.focus-ring-double {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-button-danger-outline-focus-ring-inner), 0 0 0 4px var(--color-button-danger-outline-focus-ring-outer);
}
.dark .font-semibold-accent {
  color: var(--color-accent);
}

/* RTL-specific utilities */
[dir="rtl"] .rtl\:text-right {
  text-align: right;
}

[dir="rtl"] .rtl\:text-left {
  text-align: left;
}

[dir="rtl"] .rtl\:ml-auto {
  margin-left: auto;
}

[dir="rtl"] .rtl\:mr-auto {
  margin-right: auto;
}

[dir="rtl"] .rtl\:flex-row-reverse {
  flex-direction: row-reverse;
}

/* Script-aware typography system - clean and simple */

/* Arabic text - for Arabic content in any context */
.arabic-text.text-base,
.arabic-text {
  font-family: 'Amiri', serif !important;
  font-size: 1.25rem !important; /* Use rem to avoid em cascade issues */
}

/* Ensure Arabic text applies to all children unless overridden */
.arabic-text * {
  font-family: 'Amiri', serif !important;
}

/* Latin text - for Latin content in Arabic context */
.latin-text,
.arabic-text .latin-text {
  font-family: system-ui, sans-serif !important;
  font-size: 1rem !important; /* Use absolute size to match Latin mode */
}

/* Ensure Latin text style applies to children with higher specificity */
.latin-text *,
.arabic-text .latin-text * {
  font-family: system-ui, sans-serif !important;
  font-size: 1rem !important;
}

/* Latin titles - for Latin headings in Arabic context */
.latin-title {
  font-family: system-ui, sans-serif !important;
  /* Fix letter spacing for titles in Arabic mode */
  /* letter-spacing: -0.02em !important; Tighter letter spacing */
}

/* Specific fix for app name on home page in RTL context */
[dir="rtl"] .app-name.latin-title {
  font-family: system-ui, sans-serif !important;
  /* letter-spacing: -0.05em !important; Even tighter for the app name specifically */
  /* Maintain consistent line height without conflicting with Tailwind classes */
  line-height: 1.5 !important; /* Match leading-normal from typography.appName */
  vertical-align: baseline !important; /* Prevent vertical shifting */
  display: block !important; /* Ensure consistent block-level behavior */
  margin: 0 !important; /* Reset any unwanted margins */
}

/* RTL form inputs */
[dir="rtl"] input,
[dir="rtl"] textarea,
[dir="rtl"] select {
  text-align: right;
}

/* Override for elements that should remain LTR even in RTL */
[dir="rtl"] .ltr-override {
  direction: ltr;
  text-align: left;
}

/* User menu dropdown animation - synced with icon animation */
[data-testid="user-menu-dropdown"] {
  transform-origin: top;
  animation-duration: 300ms;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  animation-fill-mode: forwards;
}

/* Opening animation */
[data-testid="user-menu-dropdown"][data-state="open"] {
  animation-name: menu-open;
}

/* Closing animation */
[data-testid="user-menu-dropdown"][data-state="closed"] {
  animation-name: menu-close;
}

@keyframes menu-open {
  from {
    opacity: 0;
    transform: scaleY(0);
  }
  to {
    opacity: 1;
    transform: scaleY(1);
  }
}

@keyframes menu-close {
  from {
    opacity: 1;
    transform: scaleY(1);
  }
  to {
    opacity: 0;
    transform: scaleY(0);
  }
}

/* AppBar title Arabic text - needs higher specificity to override Tailwind size classes */
[dir="rtl"] header .arabic-text.text-xl {
  font-size: 1.5625rem !important; /* 25px = 20px * 1.25 */
  transform: translateY(4px) !important; /* More downward adjustment */
}

[dir="rtl"] header .arabic-text.sm\:text-2xl {
  font-size: 1.875rem !important; /* 30px = 24px * 1.25 */
  transform: translateY(5px) !important; /* More downward adjustment for larger text */
}

@media (min-width: 640px) {
  [dir="rtl"] header .arabic-text.sm\:text-2xl {
    font-size: 1.875rem !important; /* 30px = 24px * 1.25 */
    transform: translateY(5px) !important; /* More downward adjustment for larger text */
  }
}
